"use strict";(self.webpackChunkshringar_tech_github_io=self.webpackChunkshringar_tech_github_io||[]).push([[911],{911:(e,s,a)=>{a.r(s),a.d(s,{default:()=>i});var l=a(555),t=a(43),r=a(554),n=a(579);const c=e=>{let{filters:s,activeFilters:a,onFilterChange:l,sortBy:r,onSortChange:c}=e;const[o,i]=(0,t.useState)(!1),d=()=>Object.values(a).reduce((e,s)=>e+((null===s||void 0===s?void 0:s.length)||0),0);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"filter-sort-container",children:[(0,n.jsxs)("button",{className:"filter-button",onClick:()=>i(!0),children:[(0,n.jsx)("span",{children:"\ud83d\udd0d"}),"Filter",d()>0&&(0,n.jsx)("span",{className:"filter-count",children:d()})]}),(0,n.jsxs)("div",{className:"sort-section",children:[(0,n.jsx)("label",{htmlFor:"sort-select",children:"Sort:"}),(0,n.jsx)("select",{id:"sort-select",value:r,onChange:e=>c(e.target.value),className:"sort-dropdown",children:[{value:"default",label:"Default"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"name-asc",label:"Name: A to Z"},{value:"name-desc",label:"Name: Z to A"}].map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),o&&(0,n.jsx)("div",{className:"filter-modal-overlay",onClick:()=>i(!1),children:(0,n.jsxs)("div",{className:"filter-modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:"filter-modal-header",children:[(0,n.jsx)("h3",{children:"Filter Products"}),(0,n.jsx)("button",{className:"close-button",onClick:()=>i(!1),children:"\xd7"})]}),(0,n.jsx)("div",{className:"filter-modal-content",children:s.map(e=>(0,n.jsxs)("div",{className:"filter-group",children:[(0,n.jsx)("h4",{children:e.label}),e.options.map(s=>{var t;return(0,n.jsxs)("label",{className:"filter-option",children:[(0,n.jsx)("input",{type:"checkbox",checked:(null===(t=a[e.key])||void 0===t?void 0:t.includes(s.value))||!1,onChange:a=>l(e.key,s.value,a.target.checked)}),(0,n.jsx)("span",{children:s.label})]},s.value)})]},e.key))}),(0,n.jsxs)("div",{className:"filter-modal-footer",children:[(0,n.jsx)("button",{className:"clear-filters-btn",onClick:()=>{Object.keys(a).forEach(e=>{var s;null===(s=a[e])||void 0===s||s.forEach(s=>{l(e,s,!1)})})},children:"Clear All"}),(0,n.jsx)("button",{className:"apply-filters-btn",onClick:()=>i(!1),children:"Apply Filters"})]})]})})]})};var o=a(47);const i=function(e){let{category:s}=e;const[a,i]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[u,j]=(0,t.useState)({}),[m,f]=(0,t.useState)("default");(0,t.useEffect)(()=>{h(!0);(async()=>{try{if(["new-arrivals","best-sellers","shop-all"].includes(s)){const[e,s,a,t,r,n,c]=await Promise.all([fetch("/data/latestcollection.json"),fetch("/data/sarees.json"),fetch("/data/lehengas.json"),fetch("/data/kurtis.json"),fetch("/data/anarkalis.json"),fetch("/data/shararas.json"),fetch("/data/suits.json")]),[o,d,h,u,j,m,f]=await Promise.all([e.json(),s.json(),a.json(),t.json(),r.json(),n.json(),c.json()]),v={sarees:d,lehengas:h,kurtis:u,anarkalis:j,shararas:m,suits:f},g=o.map(e=>{const s=(v[e.category]||[]).find(s=>s.id===e.id);return s?(0,l.A)((0,l.A)({},s),{},{category:e.category}):null}).filter(Boolean);i(g)}else{const e=await fetch("/data/".concat(s,".json")),a=await e.json();i(a)}h(!1)}catch(e){console.error("Error fetching data:",e),h(!1)}})()},[s]);const v=(0,t.useMemo)(()=>(0,o.XF)(a),[a]),g=(0,t.useMemo)(()=>{const e=(0,o.J8)(a,u);return(0,o.Ls)(e,m)},[a,u,m]);return d?(0,n.jsx)("div",{className:"loading",children:"Loading..."}):(0,n.jsxs)("section",{className:"category-section",children:[(0,n.jsx)("h2",{children:s.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())}),a.length>0&&(0,n.jsx)(c,{filters:v,activeFilters:u,onFilterChange:(e,s,a)=>{j(t=>{const r=t[e]||[];return a?(0,l.A)((0,l.A)({},t),{},{[e]:[...r,s]}):(0,l.A)((0,l.A)({},t),{},{[e]:r.filter(e=>e!==s)})})},sortBy:m,onSortChange:f}),(0,n.jsx)("div",{className:"category-container",children:g.map(e=>(0,n.jsx)(r.A,{item:e,category:e.category||s},e.id))}),0===g.length&&a.length>0&&(0,n.jsx)("div",{className:"no-results",children:(0,n.jsx)("p",{children:"No items match your current filters."})})]})}}}]);
//# sourceMappingURL=911.3ec99e4e.chunk.js.map
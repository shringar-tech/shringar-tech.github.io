"use strict";(self.webpackChunkshringar_tech_github_io=self.webpackChunkshringar_tech_github_io||[]).push([[911],{911:(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var l=s(555),t=s(43),r=s(554),n=s(579);const c=e=>{let{filters:a,activeFilters:s,onFilterChange:l,sortBy:r,onSortChange:c}=e;const[o,i]=(0,t.useState)(!1),d=()=>Object.values(s).reduce((e,a)=>e+((null===a||void 0===a?void 0:a.length)||0),0);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"filter-sort-container",children:[(0,n.jsxs)("button",{className:"filter-button",onClick:()=>i(!0),children:[(0,n.jsx)("span",{children:"\ud83d\udd0d"}),"Filter",d()>0&&(0,n.jsx)("span",{className:"filter-count",children:d()})]}),(0,n.jsxs)("div",{className:"sort-section",children:[(0,n.jsx)("label",{htmlFor:"sort-select",children:"Sort:"}),(0,n.jsx)("select",{id:"sort-select",value:r,onChange:e=>c(e.target.value),className:"sort-dropdown",children:[{value:"default",label:"Default"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"name-asc",label:"Name: A to Z"},{value:"name-desc",label:"Name: Z to A"}].map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),o&&(0,n.jsx)("div",{className:"filter-modal-overlay",onClick:()=>i(!1),children:(0,n.jsxs)("div",{className:"filter-modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:"filter-modal-header",children:[(0,n.jsx)("h3",{children:"Filter Products"}),(0,n.jsx)("button",{className:"close-button",onClick:()=>i(!1),children:"\xd7"})]}),(0,n.jsx)("div",{className:"filter-modal-content",children:a.map(e=>(0,n.jsxs)("div",{className:"filter-group",children:[(0,n.jsx)("h4",{children:e.label}),e.options.map(a=>{var t;return(0,n.jsxs)("label",{className:"filter-option",children:[(0,n.jsx)("input",{type:"checkbox",checked:(null===(t=s[e.key])||void 0===t?void 0:t.includes(a.value))||!1,onChange:s=>l(e.key,a.value,s.target.checked)}),(0,n.jsx)("span",{children:a.label})]},a.value)})]},e.key))}),(0,n.jsxs)("div",{className:"filter-modal-footer",children:[(0,n.jsx)("button",{className:"clear-filters-btn",onClick:()=>{Object.keys(s).forEach(e=>{var a;null===(a=s[e])||void 0===a||a.forEach(a=>{l(e,a,!1)})})},children:"Clear All"}),(0,n.jsx)("button",{className:"apply-filters-btn",onClick:()=>i(!1),children:"Apply Filters"})]})]})})]})};var o=s(47);const i=function(e){let{category:a}=e;const[s,i]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[u,j]=(0,t.useState)({}),[m,f]=(0,t.useState)("default");(0,t.useEffect)(()=>{h(!0);(async()=>{try{if(["new-arrivals","best-sellers","shop-all"].includes(a)){const[e,a,s,t,r,n]=await Promise.all([fetch("/data/latestcollection.json"),fetch("/data/sarees.json"),fetch("/data/lehengas.json"),fetch("/data/kurtis.json"),fetch("/data/anarkalis.json"),fetch("/data/shararas.json")]),[c,o,d,h,u,j]=await Promise.all([e.json(),a.json(),s.json(),t.json(),r.json(),n.json()]),m={sarees:o,lehengas:d,kurtis:h,anarkalis:u,shararas:j},f=c.map(e=>{const a=(m[e.category]||[]).find(a=>a.id===e.id);return a?(0,l.A)((0,l.A)({},a),{},{category:e.category}):null}).filter(Boolean);i(f)}else{const e=await fetch("/data/".concat(a,".json")),s=await e.json();i(s)}h(!1)}catch(e){console.error("Error fetching data:",e),h(!1)}})()},[a]);const v=(0,t.useMemo)(()=>(0,o.XF)(s),[s]),g=(0,t.useMemo)(()=>{const e=(0,o.J8)(s,u);return(0,o.Ls)(e,m)},[s,u,m]);return d?(0,n.jsx)("div",{className:"loading",children:"Loading..."}):(0,n.jsxs)("section",{className:"category-section",children:[(0,n.jsx)("h2",{children:a.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())}),s.length>0&&(0,n.jsx)(c,{filters:v,activeFilters:u,onFilterChange:(e,a,s)=>{j(t=>{const r=t[e]||[];return s?(0,l.A)((0,l.A)({},t),{},{[e]:[...r,a]}):(0,l.A)((0,l.A)({},t),{},{[e]:r.filter(e=>e!==a)})})},sortBy:m,onSortChange:f}),(0,n.jsx)("div",{className:"category-container",children:g.map(e=>(0,n.jsx)(r.A,{item:e,category:e.category||a},e.id))}),0===g.length&&s.length>0&&(0,n.jsx)("div",{className:"no-results",children:(0,n.jsx)("p",{children:"No items match your current filters."})})]})}}}]);
//# sourceMappingURL=911.247a12a1.chunk.js.map
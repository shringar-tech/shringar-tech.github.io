"use strict";(self.webpackChunkshringar_tech_github_io=self.webpackChunkshringar_tech_github_io||[]).push([[436],{436:(e,a,s)=>{s.r(a),s.d(a,{default:()=>i});var l=s(555),t=s(950),o=s(252),r=s(414);const n=e=>{let{filters:a,activeFilters:s,onFilterChange:l,sortBy:o,onSortChange:n}=e;const[c,i]=(0,t.useState)(!1),d=()=>Object.values(s).reduce((e,a)=>e+((null===a||void 0===a?void 0:a.length)||0),0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"filter-sort-container",children:[(0,r.jsxs)("button",{className:"filter-button",onClick:()=>i(!0),children:[(0,r.jsx)("span",{children:"\ud83d\udd0d"}),"Filter",d()>0&&(0,r.jsx)("span",{className:"filter-count",children:d()})]}),(0,r.jsxs)("div",{className:"sort-section",children:[(0,r.jsx)("label",{htmlFor:"sort-select",children:"Sort:"}),(0,r.jsx)("select",{id:"sort-select",value:o,onChange:e=>n(e.target.value),className:"sort-dropdown",children:[{value:"default",label:"Default"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"name-asc",label:"Name: A to Z"},{value:"name-desc",label:"Name: Z to A"}].map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),c&&(0,r.jsx)("div",{className:"filter-modal-overlay",onClick:()=>i(!1),children:(0,r.jsxs)("div",{className:"filter-modal",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"filter-modal-header",children:[(0,r.jsx)("h3",{children:"Filter Products"}),(0,r.jsx)("button",{className:"close-button",onClick:()=>i(!1),children:"\xd7"})]}),(0,r.jsx)("div",{className:"filter-modal-content",children:a.map(e=>(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("h4",{children:e.label}),e.options.map(a=>{var t;return(0,r.jsxs)("label",{className:"filter-option",children:[(0,r.jsx)("input",{type:"checkbox",checked:(null===(t=s[e.key])||void 0===t?void 0:t.includes(a.value))||!1,onChange:s=>l(e.key,a.value,s.target.checked)}),(0,r.jsx)("span",{children:a.label})]},a.value)})]},e.key))}),(0,r.jsxs)("div",{className:"filter-modal-footer",children:[(0,r.jsx)("button",{className:"clear-filters-btn",onClick:()=>{Object.keys(s).forEach(e=>{var a;null===(a=s[e])||void 0===a||a.forEach(a=>{l(e,a,!1)})})},children:"Clear All"}),(0,r.jsx)("button",{className:"apply-filters-btn",onClick:()=>i(!1),children:"Apply Filters"})]})]})})]})};var c=s(338);const i=function(e){let{category:a}=e;const[s,i]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[g,u]=(0,t.useState)({}),[j,m]=(0,t.useState)("default");(0,t.useEffect)(()=>{console.log("[CategoryPage] Loading category:",a),h(!0);(async()=>{try{if(["new-arrivals","best-sellers","shop-all"].includes(a)){console.log("[CategoryPage] Fetching special category:",a);const[e,s,t,o,r,n,c]=await Promise.all([fetch("/data/latestcollection.json"),fetch("/data/sarees.json"),fetch("/data/lehengas.json"),fetch("/data/kurtis.json"),fetch("/data/anarkalis.json"),fetch("/data/shararas.json"),fetch("/data/suits.json")]),[d,h,g,u,j,m,f]=await Promise.all([e.json(),s.json(),t.json(),o.json(),r.json(),n.json(),c.json()]),v={sarees:h,lehengas:g,kurtis:u,anarkalis:j,shararas:m,suits:f},p=d.map(e=>{const a=(v[e.category]||[]).find(a=>a.id===e.id);return a?(0,l.A)((0,l.A)({},a),{},{category:e.category}):null}).filter(Boolean);console.log("[CategoryPage] Resolved items:",p.length),i(p)}else{console.log("[CategoryPage] Fetching regular category:",a);const e=await fetch("/data/".concat(a,".json")),s=await e.json();console.log("[CategoryPage] Loaded items:",s.length),i(s)}h(!1),console.log("[CategoryPage] Category load complete")}catch(e){console.error("[CategoryPage] Error fetching data:",e),h(!1)}})()},[a]);const f=(0,t.useMemo)(()=>(0,c.XF)(s),[s]),v=(0,t.useMemo)(()=>{const e=(0,c.J8)(s,g);return(0,c.Ls)(e,j)},[s,g,j]);return d?(0,r.jsx)("div",{className:"loading",children:"Loading..."}):(0,r.jsxs)("section",{className:"category-section",children:[(0,r.jsx)("h2",{children:a.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())}),s.length>0&&(0,r.jsx)(n,{filters:f,activeFilters:g,onFilterChange:(e,a,s)=>{u(t=>{const o=t[e]||[];return s?(0,l.A)((0,l.A)({},t),{},{[e]:[...o,a]}):(0,l.A)((0,l.A)({},t),{},{[e]:o.filter(e=>e!==a)})})},sortBy:j,onSortChange:m}),(0,r.jsx)("div",{className:"category-container",children:v.map(e=>(0,r.jsx)(o.A,{item:e,category:e.category||a},e.id))}),0===v.length&&s.length>0&&(0,r.jsx)("div",{className:"no-results",children:(0,r.jsx)("p",{children:"No items match your current filters."})})]})}}}]);
"use strict";(self.webpackChunkshringar_tech_github_io=self.webpackChunkshringar_tech_github_io||[]).push([[436],{436:(e,a,t)=>{t.r(a),t.d(a,{default:()=>d});var l=t(555),s=t(950),o=t(252),n=t(414);const c=e=>{let{filters:a,activeFilters:t,onFilterChange:l,sortBy:o,onSortChange:c}=e;const[r,i]=(0,s.useState)(!1),d=()=>Object.values(t).reduce((e,a)=>e+((null===a||void 0===a?void 0:a.length)||0),0);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"filter-sort-container",children:[(0,n.jsxs)("button",{className:"filter-button",onClick:()=>i(!0),children:[(0,n.jsx)("span",{children:"\ud83d\udd0d"}),"Filter",d()>0&&(0,n.jsx)("span",{className:"filter-count",children:d()})]}),(0,n.jsxs)("div",{className:"sort-section",children:[(0,n.jsx)("label",{htmlFor:"sort-select",children:"Sort:"}),(0,n.jsx)("select",{id:"sort-select",value:o,onChange:e=>c(e.target.value),className:"sort-dropdown",children:[{value:"default",label:"Default"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"name-asc",label:"Name: A to Z"},{value:"name-desc",label:"Name: Z to A"}].map(e=>(0,n.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),r&&(0,n.jsx)("div",{className:"filter-modal-overlay",onClick:()=>i(!1),children:(0,n.jsxs)("div",{className:"filter-modal",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:"filter-modal-header",children:[(0,n.jsx)("h3",{children:"Filter Products"}),(0,n.jsx)("button",{className:"close-button",onClick:()=>i(!1),children:"\xd7"})]}),(0,n.jsx)("div",{className:"filter-modal-content",children:a.map(e=>(0,n.jsxs)("div",{className:"filter-group",children:[(0,n.jsx)("h4",{children:e.label}),e.options.map(a=>{var s;return(0,n.jsxs)("label",{className:"filter-option",children:[(0,n.jsx)("input",{type:"checkbox",checked:(null===(s=t[e.key])||void 0===s?void 0:s.includes(a.value))||!1,onChange:t=>l(e.key,a.value,t.target.checked)}),(0,n.jsx)("span",{children:a.label})]},a.value)})]},e.key))}),(0,n.jsxs)("div",{className:"filter-modal-footer",children:[(0,n.jsx)("button",{className:"clear-filters-btn",onClick:()=>{Object.keys(t).forEach(e=>{var a;null===(a=t[e])||void 0===a||a.forEach(a=>{l(e,a,!1)})})},children:"Clear All"}),(0,n.jsx)("button",{className:"apply-filters-btn",onClick:()=>i(!1),children:"Apply Filters"})]})]})})]})};var r=t(338);const i=(e,a)=>{"undefined"!==typeof window&&window.fbq&&window.fbq("track","ViewContent",{content_type:"product_group",content_category:e,num_items:a})};const d=function(e){let{category:a}=e;const[t,d]=(0,s.useState)([]),[h,g]=(0,s.useState)(!0),[u,m]=(0,s.useState)({}),[j,f]=(0,s.useState)("default");(0,s.useEffect)(()=>{console.log("[CategoryPage] Loading category:",a),g(!0);(async()=>{try{if(["new-arrivals","best-sellers","shop-all"].includes(a)){console.log("[CategoryPage] Fetching special category:",a);const[e,t,s,o,n]=await Promise.all([fetch("/data/latestcollection.json"),fetch("/data/lehengas.json"),fetch("/data/anarkalis.json"),fetch("/data/shararas.json"),fetch("/data/suits.json")]),[c,r,h,g,u]=await Promise.all([e.json(),t.json(),s.json(),o.json(),n.json()]),m={lehengas:r,anarkalis:h,shararas:g,suits:u},j=c.map(e=>{const a=(m[e.category]||[]).find(a=>a.id===e.id);return a?(0,l.A)((0,l.A)({},a),{},{category:e.category}):null}).filter(Boolean);console.log("[CategoryPage] Resolved items:",j.length),d(j),i(a,j.length)}else{console.log("[CategoryPage] Fetching regular category:",a);const e=await fetch("/data/".concat(a,".json")),t=await e.json();console.log("[CategoryPage] Loaded items:",t.length),d(t),i(a,t.length)}g(!1),console.log("[CategoryPage] Category load complete")}catch(e){console.error("[CategoryPage] Error fetching data:",e),g(!1)}})()},[a]);const v=(0,s.useMemo)(()=>(0,r.XF)(t),[t]),p=(0,s.useMemo)(()=>{const e=(0,r.J8)(t,u);return(0,r.Ls)(e,j)},[t,u,j]);return h?(0,n.jsx)("div",{className:"loading",children:"Loading..."}):(0,n.jsxs)("section",{className:"category-section",children:[(0,n.jsx)("h2",{children:a.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())}),t.length>0&&(0,n.jsx)(c,{filters:v,activeFilters:u,onFilterChange:(e,a,t)=>{m(s=>{const o=s[e]||[];return t?(0,l.A)((0,l.A)({},s),{},{[e]:[...o,a]}):(0,l.A)((0,l.A)({},s),{},{[e]:o.filter(e=>e!==a)})})},sortBy:j,onSortChange:f}),(0,n.jsx)("div",{className:"category-container",children:p.map((e,t)=>(0,n.jsx)(o.A,{item:e,category:e.category||a},"".concat(e.category||a,"-").concat(e.id,"-").concat(t)))}),0===p.length&&t.length>0&&(0,n.jsx)("div",{className:"no-results",children:(0,n.jsx)("p",{children:"No items match your current filters."})})]})}}}]);
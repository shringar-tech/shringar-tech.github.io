"use strict";(self.webpackChunkshringar_tech_github_io=self.webpackChunkshringar_tech_github_io||[]).push([[436],{436:(e,a,l)=>{l.r(a),l.d(a,{default:()=>i});var t=l(555),s=l(950),o=l(252),r=l(414);const c=e=>{let{filters:a,activeFilters:l,onFilterChange:t,sortBy:o,onSortChange:c}=e;const[n,i]=(0,s.useState)(!1),d=()=>Object.values(l).reduce((e,a)=>e+((null===a||void 0===a?void 0:a.length)||0),0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"filter-sort-container",children:[(0,r.jsxs)("button",{className:"filter-button",onClick:()=>i(!0),children:[(0,r.jsx)("span",{children:"\ud83d\udd0d"}),"Filter",d()>0&&(0,r.jsx)("span",{className:"filter-count",children:d()})]}),(0,r.jsxs)("div",{className:"sort-section",children:[(0,r.jsx)("label",{htmlFor:"sort-select",children:"Sort:"}),(0,r.jsx)("select",{id:"sort-select",value:o,onChange:e=>c(e.target.value),className:"sort-dropdown",children:[{value:"default",label:"Default"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"name-asc",label:"Name: A to Z"},{value:"name-desc",label:"Name: Z to A"}].map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),n&&(0,r.jsx)("div",{className:"filter-modal-overlay",onClick:()=>i(!1),children:(0,r.jsxs)("div",{className:"filter-modal",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"filter-modal-header",children:[(0,r.jsx)("h3",{children:"Filter Products"}),(0,r.jsx)("button",{className:"close-button",onClick:()=>i(!1),children:"\xd7"})]}),(0,r.jsx)("div",{className:"filter-modal-content",children:a.map(e=>(0,r.jsxs)("div",{className:"filter-group",children:[(0,r.jsx)("h4",{children:e.label}),e.options.map(a=>{var s;return(0,r.jsxs)("label",{className:"filter-option",children:[(0,r.jsx)("input",{type:"checkbox",checked:(null===(s=l[e.key])||void 0===s?void 0:s.includes(a.value))||!1,onChange:l=>t(e.key,a.value,l.target.checked)}),(0,r.jsx)("span",{children:a.label})]},a.value)})]},e.key))}),(0,r.jsxs)("div",{className:"filter-modal-footer",children:[(0,r.jsx)("button",{className:"clear-filters-btn",onClick:()=>{Object.keys(l).forEach(e=>{var a;null===(a=l[e])||void 0===a||a.forEach(a=>{t(e,a,!1)})})},children:"Clear All"}),(0,r.jsx)("button",{className:"apply-filters-btn",onClick:()=>i(!1),children:"Apply Filters"})]})]})})]})};var n=l(338);const i=function(e){let{category:a}=e;const[l,i]=(0,s.useState)([]),[d,h]=(0,s.useState)(!0),[g,u]=(0,s.useState)({}),[j,m]=(0,s.useState)("default");(0,s.useEffect)(()=>{console.log("[CategoryPage] Loading category:",a),h(!0);(async()=>{try{if(["new-arrivals","best-sellers","shop-all"].includes(a)){console.log("[CategoryPage] Fetching special category:",a);const[e,l,s,o,r]=await Promise.all([fetch("/data/latestcollection.json"),fetch("/data/lehengas.json"),fetch("/data/anarkalis.json"),fetch("/data/shararas.json"),fetch("/data/suits.json")]),[c,n,d,h,g]=await Promise.all([e.json(),l.json(),s.json(),o.json(),r.json()]),u={lehengas:n,anarkalis:d,shararas:h,suits:g},j=c.map(e=>{const a=(u[e.category]||[]).find(a=>a.id===e.id);return a?(0,t.A)((0,t.A)({},a),{},{category:e.category}):null}).filter(Boolean);console.log("[CategoryPage] Resolved items:",j.length),i(j)}else{console.log("[CategoryPage] Fetching regular category:",a);const e=await fetch("/data/".concat(a,".json")),l=await e.json();console.log("[CategoryPage] Loaded items:",l.length),i(l)}h(!1),console.log("[CategoryPage] Category load complete")}catch(e){console.error("[CategoryPage] Error fetching data:",e),h(!1)}})()},[a]);const v=(0,s.useMemo)(()=>(0,n.XF)(l),[l]),f=(0,s.useMemo)(()=>{const e=(0,n.J8)(l,g);return(0,n.Ls)(e,j)},[l,g,j]);return d?(0,r.jsx)("div",{className:"loading",children:"Loading..."}):(0,r.jsxs)("section",{className:"category-section",children:[(0,r.jsx)("h2",{children:a.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())}),l.length>0&&(0,r.jsx)(c,{filters:v,activeFilters:g,onFilterChange:(e,a,l)=>{u(s=>{const o=s[e]||[];return l?(0,t.A)((0,t.A)({},s),{},{[e]:[...o,a]}):(0,t.A)((0,t.A)({},s),{},{[e]:o.filter(e=>e!==a)})})},sortBy:j,onSortChange:m}),(0,r.jsx)("div",{className:"category-container",children:f.map((e,l)=>(0,r.jsx)(o.A,{item:e,category:e.category||a},"".concat(e.category||a,"-").concat(e.id,"-").concat(l)))}),0===f.length&&l.length>0&&(0,r.jsx)("div",{className:"no-results",children:(0,r.jsx)("p",{children:"No items match your current filters."})})]})}}}]);